(this["webpackJsonpreact-customer-portal"]=this["webpackJsonpreact-customer-portal"]||[]).push([[6],{160:function(e,t,a){"use strict";var n=a(159),r=a.n(n),l=a(34),c=a(35),o=a(58),u=new(function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getProofCollection",value:function(){var e,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={method:"GET",url:"/order-pickup-details"},a.next=3,r.a.awrap(o.a.request(e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}}]),e}());t.a=u},163:function(e,t,a){"use strict";var n=a(159),r=a.n(n),l=a(34),c=a(35),o=a(58),u=new(function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getItemsByOrder",value:function(){var e,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={method:"GET",url:"/v2/orders/items"},a.next=3,r.a.awrap(o.a.request(e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}},{key:"updateApprovalStatus",value:function(e,t){var a,n;return r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a={method:"PUT",url:"/orders/items/".concat(e,"/approval-status"),data:{itemCode:e,approvalStatus:t}},l.next=3,r.a.awrap(o.a.request(a));case 3:return n=l.sent,l.abrupt("return",n);case 5:case"end":return l.stop()}}))}},{key:"updatePreferences",value:function(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={method:"PUT",url:"/customers/future/preferences",data:e},n.next=3,r.a.awrap(o.a.request(t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))}},{key:"getBillingInfo",value:function(){var e,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={method:"GET",url:"v2/orders/billing"},a.next=3,r.a.awrap(o.a.request(e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}}]),e}()),m=(a(160),new(function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getProofDelivery",value:function(){var e,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={method:"GET",url:"/order-delivery-details"},a.next=3,r.a.awrap(o.a.request(e));case 3:return t=a.sent,a.abrupt("return",t.data);case 5:case"end":return a.stop()}}))}}]),e}()));a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m}))},165:function(e,t,a){},168:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(161),r=function(e,t){switch(t.type){case"FETCHING":return Object(n.a)({},e,{loading:!0});case"FETCHING_COMPLETE":return Object(n.a)({},e,{loading:!1});case"SET_ERROR":return Object(n.a)({},e,{error:{isError:!0,message:t.message}});case"GET_ORDER_COMPLETE":return Object(n.a)({},e,{loading:!1,order:t.order});default:return e}}},182:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a(159),o=a.n(c),u=a(15),m=a(6),s=a(27),i=a(13),E=a(10),f=a(59),d=a(162),p=a(7);a(165);function b(){var e=Object(m.a)(["\n  font-family: 'Inria Serif Bold';\n  font-size: 20px;\n"]);return b=function(){return e},e}function g(){var e=Object(m.a)(["\n  font-size: 14px;\n  font-family: 'Inria Serif Light';\n  color: #4b1574;\n  margin-top: 5px;\n  margin-right: 6px;\n"]);return g=function(){return e},e}function v(){var e=Object(m.a)(["\n  font-size: 16px;\n  font-family: 'Inria Serif Light';\n  margin-bottom: 16px;\n"]);return v=function(){return e},e}function x(){var e=Object(m.a)(["\n  background-color: #fffefc;\n  margin-top: 12px;\n  line-height: 18px;\n  margin-bottom: 12px;\n  padding-left: 16px;\n  padding-right: 16px;\n"]);return x=function(){return e},e}function y(){var e=Object(m.a)(["\n  font-size: 13px;\n  font-family: 'Inter Bold';\n  color: #625964;\n"]);return y=function(){return e},e}function h(){var e=Object(m.a)(["\n  font-size: 13px;\n  font-family: 'Inter Light';\n  color: #625964;\n"]);return h=function(){return e},e}var N=p.a.span(h()),O=p.a.span(y()),T=p.a.div(x()),j=p.a.span(v()),w=p.a.span(g()),C=p.a.div(b()),I=a(167),k=a.n(I);function A(){var e=Object(m.a)(["\n  font-family: 'Inria Serif Bold';\n  font-size: 16px;\n  line-height: 1;\n"]);return A=function(){return e},e}var D=p.a.div(A()),P=function(e){return e.replace(/_/g," ").split(" ").map(k.a.capitalize).join(" ")},R=function(e){var t=e.item;return r.a.createElement(D,null,r.a.createElement(i.a,null,r.a.createElement(E.a,{className:"pt-3 mb-2"},P(t.brand)+" "+P(t.name)+", "+P(t.colorName&&t.colorName.includes("/")?"multicolor":t.colorName))),r.a.createElement(i.a,{className:"p-0"},r.a.createElement(E.a,null,r.a.createElement(N,null,"Cleaning")),r.a.createElement(E.a,{xs:"auto",md:"auto",className:"d-flex p-0 mr-3"},r.a.createElement(w,null,"AED"),r.a.createElement(E.a,{xs:"auto",md:1,className:"d-flex p-0"},r.a.createElement(C,null,parseFloat(t.unitPrice)+t.extraCostAmount)))))},S=function(e){var t=e.order,a=t.billingReport,l=Object(n.useMemo)((function(){return[{items:t&&a?a.billingItemsList:[]}]}),[t,a]);return r.a.createElement(d.a,{className:"border-top-0 border-bottom-1 border-left-0 border-right-0 mb-4 bg-baby-powder"},r.a.createElement(T,null,r.a.createElement(d.a.Body,{className:"p-0"},r.a.createElement(d.a.Title,null,r.a.createElement(j,null,"Item Summary")),l.map((function(e,t){return r.a.createElement("div",{key:"resp-".concat(t)},r.a.createElement(i.a,null,r.a.createElement(E.a,{xs:12},r.a.createElement("div",null,e.items&&e.items.filter((function(e){return!1===e.isExtraCost||!e.isExtraCost})).map((function(e,t){return r.a.createElement(R,{item:e,key:"unique".concat(t)})})),e.items&&e.items.filter((function(e){return!0===e.isExtraCost})).length>0&&r.a.createElement(i.a,{className:"mt-2 mb-1 pl-3 font-weight-normal"},"* Extra Charge *"),e.items&&e.items.filter((function(e){return!0===e.isExtraCost})).map((function(e,t){return r.a.createElement(R,{item:e,key:"unique".concat(t)})}))))))})))))},B=function(e){return Math.round(10*e)/10},q=function(e){var t=e.order.billingReport,a=B(k.a.get(t,"totalPreVAT",0)).toString(),n=B(k.a.get(t,"VAT",0)).toString();return r.a.createElement(d.a,{className:"border-top-0 border-bottom-1 border-left-0 border-right-0 mb-4 bg-baby-powder"},r.a.createElement(T,null,r.a.createElement(d.a.Body,{className:"p-0"},r.a.createElement(i.a,{className:"p-1"},r.a.createElement(E.a,null,r.a.createElement(j,null,"Total Pre VAT")),r.a.createElement(E.a,{xs:"auto",md:"auto",className:"d-flex p-0 mr-3"},r.a.createElement(w,null,"AED"),r.a.createElement(E.a,{xs:"auto",md:1,className:"d-flex p-0"},r.a.createElement(C,null,a)))),r.a.createElement(i.a,{className:"p-1"},r.a.createElement(E.a,null,r.a.createElement(j,null,"VAT 5%")),r.a.createElement(E.a,{xs:"auto",md:"auto",className:"d-flex p-0 mr-3"},r.a.createElement(w,null,"AED"),r.a.createElement(E.a,{xs:"auto",md:1,className:"d-flex p-0"},r.a.createElement(C,null,n)))))))};function G(){var e=Object(m.a)(["\n  font-family: 'Inria Serif Bold';\n  margin-bottom: 0px;\n  margin-top: 0px;\n  font-size: 20px;\n"]);return G=function(){return e},e}var z=Object(p.a)(j)(G()),F=function(e){var t=e.order.billingReport,a=Object(n.useMemo)((function(){var e=+t.totalPreVAT+ +t.VAT;return parseFloat(e.toFixed(1))}),[t.totalPreVAT,t.VAT]);return r.a.createElement(d.a,{className:"border border-blue-violet bg-baby-powder"},r.a.createElement(T,null,r.a.createElement(d.a.Body,{className:"p-0"},r.a.createElement(i.a,{className:"p-1"},r.a.createElement(E.a,null,r.a.createElement(z,null,"Total Billed")),r.a.createElement(E.a,{xs:"auto",md:"auto",className:"d-flex p-0 mr-3"},r.a.createElement(w,null,"AED"),r.a.createElement(E.a,{xs:a.toString().length>4?"auto":2,md:1,className:"d-flex p-0"},r.a.createElement(C,null,a)))))))},_=function(e){var t=e.order,a={"Invoice Number":t.orderNumber,"Invoice Date":t.dropoffDate.replace(/-/g,"/"),"TR Number":"100284642400003"};return r.a.createElement(d.a,{className:"border-top-0 border-bottom-1 border-left-0 border-right-0 mb-4 bg-baby-powder"},r.a.createElement(T,null,r.a.createElement(j,null,r.a.createElement(d.a.Title,null,"Tax Invoice")),r.a.createElement(d.a.Body,{className:"p-0"},Object.entries(a).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:"unique".concat(n)},n?r.a.createElement(i.a,{className:"p-0"},r.a.createElement(E.a,null,r.a.createElement(N,null,a," ",r.a.createElement(O,null,n," ")))):r.a.createElement(i.a,{className:"p-0"},r.a.createElement(N,null,r.a.createElement(E.a,null,a," "))))})))))},L=function(e){var t=e.order,a={Address:t.dropoffAddress.building,Email:t.customerEmail,"Collection Date":t.pickupDate.replace(/-/g,"/"),"Delivery Date":t.dropoffDate.replace(/-/g,"/")};return r.a.createElement(d.a,{className:"border-top-0 border-bottom-1 border-left-0 border-right-0 mb-4 bg-baby-powder"},r.a.createElement(T,null,r.a.createElement(j,null,r.a.createElement(d.a.Title,null,"Order Summary")),r.a.createElement(d.a.Body,{className:"p-0"},r.a.createElement(i.a,{className:"p-0"},r.a.createElement(E.a,null,r.a.createElement(O,null,t.customerName," "))),Object.entries(a).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{key:"unique".concat(n)},n?r.a.createElement(i.a,{className:"p-0"},r.a.createElement(E.a,null,r.a.createElement(N,null,a," ",r.a.createElement(O,null,n," ")))):r.a.createElement(i.a,{className:"p-0"},r.a.createElement(N,null,r.a.createElement(E.a,null,a," "))))})))))},M=a(14),V=a(163),H=a(168),J=a(157);function U(){var e=Object(m.a)(["\n  margin-bottom: 26px;\n  margin-top: 46px;\n"]);return U=function(){return e},e}function K(){var e=Object(m.a)(["\n  background-color: #fbf9f5;\n  color: #4b1574;\n  font-size: 26px;\n  font-family: 'Inria Serif Bold';\n"]);return K=function(){return e},e}var Q=p.a.div(K()),W=p.a.div(U()),X={loading:!1,error:{isError:!1}},Y=function(){var e=Object(n.useReducer)(H.a,X),t=Object(u.a)(e,2),a=t[0],l=a.loading,c=a.order,m=a.error,d=t[1];return r.a.useEffect((function(){d({type:"FETCHING"});!function(){var e,t,a;o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(V.a.getBillingInfo());case 3:e=n.sent,(t=e.order).customerEmail=t.customerEmail.replace("+careem",""),d({type:"GET_ORDER_COMPLETE",order:t}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),n.t0.isAxiosError&&(a=n.t0.response?n.t0.response.data.infoCodes:n.t0.message,d({type:"SET_ERROR",message:Object(M.InfoCodeParser)(a)}));case 12:return n.prev=12,d({type:"FETCHING_COMPLETE"}),n.finish(12);case 15:case"end":return n.stop()}}),null,null,[[0,9,12,15]])}()}),[]),r.a.createElement(Q,null,m.isError?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{bsPrefix:"container-sm",className:"mt-4"},r.a.createElement(i.a,null,r.a.createElement(E.a,{xs:12},r.a.createElement(f.s,{type:"danger",title:"Something wrong has happened"},r.a.createElement(J.a,{id:m.message,defaultMessage:m.message}),r.a.createElement("br",null),r.a.createElement("span",{onClick:function(){return window.location.reload()},style:{textDecoration:"underline",cursor:"pointer"}},"reload")))))):r.a.createElement(r.a.Fragment,null,l||!c?r.a.createElement(f.g,{amount:4,showHeader:!1}):r.a.createElement(s.a,{className:"mt-3"},r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(W,null," Receipt "))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(S,{order:c}))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(q,{order:c}))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(F,{order:c}))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(W,null," Details "))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(_,{order:c}))),r.a.createElement(i.a,null,r.a.createElement(E.a,null,r.a.createElement(L,{order:c}))))))};a(182),t.default=Object(l.i)((function(e){var t=e.match.path;return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"".concat(t),children:r.a.createElement(Y,null)}),r.a.createElement(l.a,{to:t}))}))}}]);
//# sourceMappingURL=6.b956283d.chunk.js.map