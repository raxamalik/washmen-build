{"version":3,"sources":["services/ProofCollectionService.ts","services/orderService.ts","services/ProofDeliveryService.ts","services/index.ts","modules/orderReducer.ts","modules/receiptPage/components/orderDetailList.tsx","modules/receiptPage/components/receiptCalculator.tsx","assets/images/icons/ic-careem-plus.svg","modules/receiptPage/components/receiptCard.tsx","modules/receiptPage/pages/home.tsx","modules/receiptPage/receiptPage.tsx"],"names":["proofCollectionService","config","method","url","API","request","response","data","orderService","itemCode","approvalStatus","proofDeliveryService","OrderReducer","state","action","type","loading","error","isError","message","order","OrderDetailList","values","hasBorderBottom","className","style","borderBottom","Object","entries","map","key","value","ReceiptCalculator","serviceFee","minOrderRequirement","nextDaySurcharge","totPreVat","vat","driverTip","totalBilled","originApp","deliveryFee","Row","Col","xs","md","parseFloat","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","width","height","rx","fill","clipPath","d","id","x1","y1","x2","y2","gradientUnits","stopColor","offset","transform","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","cleanTypeMapper","CP","WF","P","HC","TF","onlyUnique","index","self","roundToOneDecimal","num","Math","round","ItemListBill","item","quantity","toString","name","toUpperCase","replace","slice","toLowerCase","unitPrice","extraCostAmount","WashmenShop","hooksQty","billing","hooks_charge","DiscountSection","promocode","totalBeforeDiscount","isCareemPlusApplied","promocodeDiscountValue","match","Number","console","log","isValueNumber","ReceiptCard","billingReport","minimum_amount","isCareemPlus","is_careem_plus","promocodes","_","includes","CareemPlusCampaign","cleanTypesArray","useMemo","billingItemsList","cleanType","filter","reportData","Array","from","items","totalPaidString","totalPaid","totalPaidNumber","promocodesList","promoCredString","get","promoDiscountString","push","constructPromocodesObj","totalPreVATString","vatString","Card","Body","Title","orderNumber","dropoffDate","report","Subtitle","isExtraCost","Boolean","undefined","initialState","Home","useReducer","dispatch","React","useEffect","a","async","OrderService","getBillingInfo","customerEmail","isAxiosError","infoCodes","InfoCodeParser","Container","bsPrefix","defaultMessage","onClick","window","location","reload","textDecoration","cursor","orderId","orderAlphaId","loaderHeight","textFontSize","iconWidth","amount","customerName","dropoffAddress","building","pickupDate","withRouter","path","children","to"],"mappings":"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","file":"static/js/7.6c7e035c.chunk.js","sourcesContent":["import { API } from './api';\r\nimport { AxiosRequestConfig } from 'axios';\r\n// import { IRootOrderResponse } from 'utils/interfaces';\r\n/**\r\n *  Api service used to manage & handle orders\r\n */\r\n\r\nexport class ProofCollectionService {\r\n  async getProofCollection() {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'GET',\r\n      url: `/order-pickup-details`,\r\n    };\r\n\r\n    const response = await API.request(config);\r\n    return response.data;\r\n  }\r\n}\r\n\r\nconst proofCollectionService = new ProofCollectionService();\r\n\r\nexport default proofCollectionService;\r\n","import { API } from './api';\r\nimport { AxiosRequestConfig } from 'axios';\r\nimport { IRootOrderResponse, TApprovalStatus, IRootOrderObject, TUserPreferences } from 'utils/interfaces';\r\n/**\r\n *  Api service used to manage & handle orders\r\n */\r\nexport class OrderService {\r\n  /**\r\n   * Get Order details\r\n   *\r\n   * @async\r\n   * @function getOrder\r\n   *\r\n   * @return {object} Order Details\r\n   */\r\n  async getItemsByOrder() {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'GET',\r\n      url: '/v2/orders/items',\r\n    };\r\n\r\n    const response = await API.request<IRootOrderResponse>(config);\r\n    return response.data;\r\n  }\r\n\r\n  async updateApprovalStatus(itemCode: string, approvalStatus: TApprovalStatus) {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'PUT',\r\n      url: `/orders/items/${itemCode}/approval-status`,\r\n      data: {\r\n        itemCode,\r\n        approvalStatus,\r\n      },\r\n    };\r\n\r\n    const response = await API.request<IRootOrderResponse>(config);\r\n    return response;\r\n  }\r\n\r\n  async updatePreferences(data: TUserPreferences) {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'PUT',\r\n      url: '/customers/future/preferences',\r\n      data: data,\r\n    };\r\n\r\n    const response = await API.request<IRootOrderResponse>(config);\r\n    return response;\r\n  }\r\n\r\n  /**Get Complete Billing Info */\r\n  async getBillingInfo() {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'GET',\r\n      url: `v2/orders/billing`,\r\n    };\r\n    let response = await API.request<IRootOrderObject>(config);\r\n\r\n    return response.data;\r\n  }\r\n}\r\n\r\nconst orderService = new OrderService();\r\n\r\nexport default orderService;\r\n","import { API } from './api';\r\nimport { AxiosRequestConfig } from 'axios';\r\n// import { IRootOrderResponse } from 'utils/interfaces';\r\n/**\r\n *  Api service used to manage & handle orders\r\n */\r\n\r\nexport class ProofDeliveryService {\r\n  async getProofDelivery() {\r\n    //request config\r\n    const config: AxiosRequestConfig = {\r\n      method: 'GET',\r\n      url: `/order-delivery-details`,\r\n    };\r\n\r\n    const response = await API.request(config);\r\n    return response.data;\r\n  }\r\n}\r\n\r\nconst proofDeliveryService = new ProofDeliveryService();\r\n\r\nexport default proofDeliveryService;\r\n","export { default as OrderService } from './orderService';\r\nexport { default as ProofCollectionService } from './ProofCollectionService';\r\nexport { default as ProofDeliveryService } from './ProofDeliveryService';\r\n","import { Reducer } from 'react';\r\nimport { OrderReceipt } from 'utils/interfaces';\r\n\r\nexport type OrderReducerAction =\r\n  | { type: 'GET_ORDER_COMPLETE'; order: OrderReceipt }\r\n  | { type: 'FETCHING' }\r\n  | { type: 'FETCHING_COMPLETE' }\r\n  | { type: 'SET_ERROR'; message?: string };\r\n\r\nexport interface OrderState {\r\n  loading: boolean;\r\n  error: {\r\n    isError: boolean;\r\n    message?: string;\r\n  };\r\n  order?: OrderReceipt;\r\n}\r\n\r\nexport type TOrderReducer = Reducer<OrderState, OrderReducerAction>;\r\n\r\nexport const OrderReducer: Reducer<OrderState, OrderReducerAction> = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCHING': {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n    case 'FETCHING_COMPLETE': {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    }\r\n    case 'SET_ERROR': {\r\n      return {\r\n        ...state,\r\n        error: {\r\n          isError: true,\r\n          message: action.message,\r\n        },\r\n      };\r\n    }\r\n    case 'GET_ORDER_COMPLETE':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        order: action.order,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n  values: { [key: string]: string | undefined };\r\n  hasBorderBottom?: boolean;\r\n}\r\n\r\nconst OrderDetailList: React.FC<Props> = ({ values, hasBorderBottom = false }) => (\r\n  <div className={hasBorderBottom ? 'pb-3' : 'pb-0'} style={hasBorderBottom ? { borderBottom: '1px solid rgba(0, 0, 0, 0.125)' } : {}}>\r\n    {Object.entries(values).map(([key, value]) => (\r\n      <div className=\"d-flex justify-content-center\" key={`unique${value}`}>\r\n        {value ? (\r\n          <p className=\"mb-0\">\r\n            {key}: <span className=\"font-weight-normal\">{value}</span>\r\n          </p>\r\n        ) : (\r\n          <span className=\"font-weight-normal\">{key}</span>\r\n        )}\r\n      </div>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default OrderDetailList;\r\n","import React from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\n\r\n\r\ninterface Props {\r\n  minOrderRequirement: string;\r\n  totPreVat: string;\r\n  nextDaySurcharge: string | null;\r\n  serviceFee: number;\r\n  driverTip: string;\r\n  totalBilled?: number;\r\n  vat: string;\r\n  originApp: string;\r\n  deliveryFee: number;\r\n}\r\n\r\nconst ReceiptCalculator: React.FC<Props> = ({\r\n  serviceFee,\r\n  minOrderRequirement,\r\n  nextDaySurcharge,\r\n  totPreVat,\r\n  vat,\r\n  driverTip,\r\n  totalBilled,\r\n  originApp = '',\r\n  deliveryFee,\r\n}) => (\r\n  <div className=\"p-3 border-grey-1px\">\r\n    {totalBilled && (\r\n      <Row>\r\n        <Col className=\"font-weight-normal\"> Total </Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0 font-weight-normal\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0 font-weight-normal\">\r\n          {totalBilled}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    {minOrderRequirement !== '0' && (\r\n      <Row>\r\n        <Col>Minimum Order Top-up</Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0\">\r\n          {parseFloat(minOrderRequirement)}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    {nextDaySurcharge !== '0' && (\r\n      <Row>\r\n        <Col>Next Day Surcharge</Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end  pl-0\">\r\n          {nextDaySurcharge}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    {originApp !== 'SHOP_MEADOWS' && serviceFee !== 0 && (\r\n      <Row>\r\n        <Col className=\"font-weight-normal\"> Service Fee</Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0 font-weight-normal\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0 font-weight-normal\">\r\n          {serviceFee}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    {originApp !== 'SHOP_MEADOWS' && (\r\n      <Row>\r\n      <Col className=\"font-weight-normal\" >\r\n      <span >Delivery Fee</span> \r\n      </Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0 font-weight-normal\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0 font-weight-normal\">\r\n          {deliveryFee}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    {originApp !== 'SHOP_MEADOWS' && driverTip && (\r\n      <Row>\r\n        <Col className=\"font-weight-normal\"> Driver Tip </Col>\r\n        <Col xs={1} className=\"d-flex justify-content-end p-0 font-weight-normal\">\r\n          AED\r\n        </Col>\r\n        <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0 font-weight-normal\">\r\n          {driverTip}\r\n        </Col>\r\n      </Row>\r\n    )}\r\n    <Row>\r\n      <Col className=\"text-primary font-weight-normal\">Total Pre-VAT</Col>\r\n      <Col xs={1} className=\"d-flex justify-content-end text-primary font-weight-normal p-0\">\r\n        AED\r\n      </Col>\r\n      <Col xs={2} md={1} className=\"d-flex justify-content-end text-primary font-weight-normal pl-0\">\r\n        {parseFloat(totPreVat)}\r\n      </Col>\r\n    </Row>\r\n    <Row>\r\n      <Col className=\"text-primary font-weight-normal\">VAT 5%</Col>\r\n      <Col xs={1} className=\"d-flex justify-content-end text-primary font-weight-normal p-0\">\r\n        AED\r\n      </Col>\r\n      <Col xs={2} md={1} className=\"d-flex justify-content-end text-primary font-weight-normal pl-0\">\r\n        {parseFloat(vat)}\r\n      </Col>\r\n    </Row>\r\n  </div>\r\n);\r\nexport default ReceiptCalculator;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  width: 23.0538,\n  height: 16,\n  rx: 4,\n  fill: \"url(#paint0_linear_2402_73067)\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  clipPath: \"url(#clip0_2402_73067)\"\n}, React.createElement(\"path\", {\n  d: \"M8.95607 4.00235H7.06535C5.38972 4.00235 4.01953 5.37224 4.01953 7.04751V8.93783C4.01953 10.6131 5.38972 11.983 7.06535 11.983H8.95607C10.6317 11.983 12.0019 10.6131 12.0019 8.93783V7.04751C12.0019 5.37224 10.6317 4.00235 8.95607 4.00235ZM6.89542 5.38945C7.35143 5.38945 7.7214 5.75934 7.7214 6.21525C7.7214 6.67117 7.35143 7.04106 6.89542 7.04106C6.43941 7.04106 6.06943 6.67117 6.06943 6.21525C6.06943 5.75934 6.43941 5.38945 6.89542 5.38945ZM8.27636 10.8604C6.67817 10.8604 5.38326 9.56364 5.38326 7.96794C5.38326 7.90773 5.38542 7.84751 5.38757 7.78945H6.71688C6.71043 7.84751 6.70613 7.90773 6.70613 7.96794C6.70613 8.83461 7.40736 9.53568 8.27421 9.53568C8.76033 9.53568 9.19484 9.31418 9.48092 8.96794L10.5026 9.8131C9.9735 10.454 9.17333 10.8604 8.27636 10.8604ZM9.61428 7.14859C9.37122 6.75074 8.95607 6.47117 8.4721 6.4131L8.81626 5.12493C9.56696 5.26687 10.2166 5.69697 10.6403 6.29912L9.61428 7.14859Z\",\n  fill: \"#00E784\"\n}), React.createElement(\"path\", {\n  d: \"M17.5116 7.22373C17.2384 7.22373 16.9674 7.27749 16.7136 7.38502C16.7996 7.15491 16.8448 6.90975 16.8448 6.66459V5.13126H15.4574V6.66459C15.4574 6.84093 15.3864 7.00868 15.2616 7.13341C15.1369 7.25814 14.967 7.32696 14.7906 7.32696H13.2548V8.7119H14.7927C15.0659 8.7119 15.3369 8.65814 15.5907 8.55061C15.5047 8.78072 15.4595 9.02588 15.4595 9.27104V10.8044H16.8469V9.27104C16.8469 9.0947 16.9179 8.92695 17.0427 8.80222C17.1674 8.67749 17.3374 8.60867 17.5137 8.60867H19.0517V7.22373H17.5116Z\",\n  fill: \"#00E784\"\n}));\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n  id: \"paint0_linear_2402_73067\",\n  x1: 28.2291,\n  y1: 24.2667,\n  x2: 11.4384,\n  y2: 0.0613703,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#00E784\"\n}), React.createElement(\"stop\", {\n  offset: 0.250292,\n  stopColor: \"#00AC6A\"\n}), React.createElement(\"stop\", {\n  offset: 0.49686,\n  stopColor: \"#008A5B\"\n}), React.createElement(\"stop\", {\n  offset: 0.723999,\n  stopColor: \"#00654A\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#00493E\"\n})), React.createElement(\"clipPath\", {\n  id: \"clip0_2402_73067\"\n}, React.createElement(\"rect\", {\n  width: 15.0538,\n  height: 8,\n  fill: \"white\",\n  transform: \"translate(4 4)\"\n})));\n\nvar SvgIcCareemPlus = function SvgIcCareemPlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 16,\n    viewBox: \"0 0 24 16\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgIcCareemPlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ic-careem-plus.48045eb4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useMemo } from 'react';\r\nimport { OrderReceipt, CleaningType, BillingItemsList } from 'utils/interfaces';\r\nimport { CareemPlusCampaign } from 'utils/constants';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport ReceiptCalculator from './receiptCalculator';\r\nimport OrderDetailList from './orderDetailList';\r\nimport _ from 'lodash';\r\nimport { ReactComponent as CareemPlus } from 'assets/images/icons/ic-careem-plus.svg';\r\nimport './receiptCard.scss';\r\n\r\ninterface Props {\r\n  order: OrderReceipt;\r\n}\r\n// Assign cleanType values to display\r\nconst cleanTypeMapper: { [key in CleaningType]: string } = {\r\n  CP: 'Clean & Press',\r\n  WF: 'Wash & Fold',\r\n  P: 'Press Only',\r\n  HC: 'Homecare',\r\n  TF: 'The Finery'\r\n};\r\n\r\n// Function that only returns unique array values\r\nconst onlyUnique = (value: any, index: number, self: any) => self.indexOf(value) === index;\r\n\r\nconst roundToOneDecimal = (num: number) => {\r\n  return Math.round(num * 10) / 10;\r\n};\r\n\r\n// QUICKFIX: some WF order's quantities on prod are returning as string\r\nconst numberOrString = (value: number | string) => {\r\n  if (typeof value === 'string') {\r\n    return parseFloat(value);\r\n  } else return value.toString();\r\n};\r\n\r\nconst isValueNumber = (value: number) => {\r\n  if (typeof value === 'number') {\r\n    return true\r\n  }\r\n}\r\nconst constructPromocodesObj = (billing: any) => {\r\n\r\n  const promoCredString = roundToOneDecimal(_.get(billing, 'promoCredit',0)).toString();\r\n  const promoDiscountString = _.get(billing, 'promoDiscount',0).toString();\r\n\r\n  let promocodesList = [];\r\n  if (promoCredString !== \"0\" || promoDiscountString !== \"0%\") {\r\n    promocodesList.push(promoCredString, promoDiscountString)\r\n  }\r\n  return promocodesList\r\n}\r\n\r\nconst ItemListBill: React.FC<{ item: BillingItemsList }> = ({ item }) => {\r\n  return (\r\n    <Row>\r\n      <Col xs={1} className=\"bulletPoint\"></Col>\r\n      <Col className=\"pl-0\">\r\n        {numberOrString(item.quantity)} x{' '}\r\n        {item.name === 'Homecare' ? 'Homecare bag(s)' :\r\n          item.name[0].toUpperCase() +\r\n          item.name\r\n            .replace(/_/g, ' ')\r\n            .slice(1)\r\n            .toLowerCase()}\r\n      </Col>\r\n      <Col xs={1} className=\"d-flex justify-content-end p-0 \">\r\n        AED{' '}\r\n      </Col>\r\n      <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0\">\r\n        {(parseFloat(item.unitPrice) * item.quantity) + item.extraCostAmount}\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst WashmenShop: React.FC<{ order: OrderReceipt }> = ({ order }) => {\r\n  return (\r\n    <Row>\r\n      <Col xs={1} className=\"bulletPoint\"></Col>\r\n      <Col className=\"pl-0\">\r\n        {order.hooksQty} x{' '}\r\n        Door Hook\r\n      </Col>\r\n      <Col xs={1} className=\"d-flex justify-content-end p-0 \">\r\n        AED{' '}\r\n      </Col>\r\n      <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0\">\r\n        {order.billing.hooks_charge}\r\n      </Col>\r\n\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst DiscountSection: React.FC<{ promocode: any, totalBeforeDiscount: number , isCareemPlusApplied:boolean}> = ({ promocode, totalBeforeDiscount, isCareemPlusApplied }) => {\r\n  let promocodeDiscountValue = promocode.match(/%/) ? Number(totalBeforeDiscount / 100) * promocode.slice(0, -1) : promocode\r\n  console.log(typeof promocode, '--------------promoo------------------');\r\n  if (promocode.match(/^0/)) {\r\n    return null\r\n  }\r\n  else return (\r\n    <Row>\r\n      <Col>\r\n        <Row>\r\n          <Col xs={1} className=\"bulletPoint\"></Col>\r\n          <Col className=\"pl-0\">\r\n            {promocode.match(/%/) ? promocode : ''} {promocode.match(/%/) ? 'discount' : 'Credit'}\r\n            {isCareemPlusApplied && \r\n            <div className=\"d-inline ic-careem-plus-container\">\r\n            <span> (-10% included <div className=\"d-inline\"><CareemPlus width={'2rem'} height={'1rem'}/></div>)</span>\r\n            </div>\r\n            }\r\n          </Col>\r\n          <Col xs={'auto'} className=\"d-flex justify-content-end p-0 \">\r\n            -{' '}\r\n          </Col>\r\n          <Col xs={'auto'} className=\"d-flex justify-content-end p-0 \">\r\n            AED{' '}\r\n          </Col>\r\n          <Col xs={2} md={1} className=\"d-flex justify-content-end pl-0\">\r\n            {isValueNumber(promocodeDiscountValue) ? promocodeDiscountValue : promocode}\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst ReceiptCard: React.FC<Props> = ({ order }) => {\r\n  let billing = order.billingReport;\r\n  let minOrderRequirement = order.billing.minimum_amount.toString();\r\n  let isCareemPlus = order.billing.is_careem_plus;\r\n  let promocodes = order.billing.promocodes;\r\n  let isCareemPlusApplied =isCareemPlus &&  _.includes(promocodes, CareemPlusCampaign);\r\n\r\n  \r\n  // return a filtered array of only unique values\r\n  const cleanTypesArray = useMemo(() => {\r\n    if (order && billing) return billing.billingItemsList.map(i => cleanTypeMapper[i.cleanType]).filter(onlyUnique);\r\n    else return [];\r\n  }, [order, billing]);\r\n\r\n  // Order's items distributed into 3 cleanTypes\r\n  const reportData = useMemo(() => {\r\n    return Array.from(cleanTypesArray, type => {\r\n      return {\r\n        cleanType: type,\r\n        items: order && billing ? billing.billingItemsList.filter(i => cleanTypeMapper[i.cleanType] === type) : [],\r\n      };\r\n    });\r\n  }, [cleanTypesArray, order, billing]);\r\n\r\n  // Total billed used in this component\r\n  const totalPaidString = roundToOneDecimal(billing.totalPaid!).toString();\r\n  const totalPaidNumber = parseFloat(totalPaidString);\r\n  // Props for receiptCalculator\r\n  const totalBeforeDiscount = roundToOneDecimal(billing.totalBeforeDiscount);\r\n  const promocodesList = constructPromocodesObj(billing)\r\n  const totalPreVATString = roundToOneDecimal(_.get(billing,'totalPreVAT',0)).toString();\r\n  const vatString = roundToOneDecimal(_.get(billing,'VAT',0)).toString();\r\n  return (\r\n    < Card className=\"border-top-0 border-bottom-1 border-left-0 border-right-0 mb-4\" >\r\n      <Card.Body className=\"p-0\">\r\n        <Card.Title className=\"mt-3 mb-2 d-flex justify-content-center text-cyan font-weight-normal\">Tax Invoice</Card.Title>\r\n        <OrderDetailList\r\n          hasBorderBottom\r\n          values={{\r\n            'Invoice Number': order.orderNumber,\r\n            'Invoice Date': order.dropoffDate,\r\n            'TR Number': '100284642400003',\r\n          }}\r\n        />\r\n        {reportData.map((report, i) => {\r\n          return (\r\n            <div key={`resp-${i}`}>\r\n              <Row>\r\n                <Col xs={12}>\r\n                  <Card.Subtitle className=\"mt-3 mb-1 pl-3 font-weight-normal\">{report.cleanType}</Card.Subtitle>\r\n                  <div className=\"pl-3 pr-3 pb-3 border-grey-1px\">\r\n                    {report.items\r\n                      && report.items.filter(item => item.isExtraCost === false || !item.isExtraCost).map((item, index) => {\r\n                        return <ItemListBill item={item} key={`unique${index}`} />\r\n                      })\r\n                    }\r\n                    {report.items\r\n                      && report.items.filter(item => item.isExtraCost === true).length > 0 && <Row className=\"mt-2 mb-1 pl-3 font-weight-normal\">* Extra Charge *</Row>}\r\n                    {report.items\r\n                      && report.items.filter(item => item.isExtraCost === true).map((item, index) => {\r\n                        return <ItemListBill item={item} key={`unique${index}`\r\n                        } />\r\n                      })\r\n                    }\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          );\r\n        })}\r\n        {Boolean(order.hooksQty) &&\r\n          <Row>\r\n            <Col xs={12}>\r\n              <Card.Subtitle className=\"mt-3 mb-1 pl-3 font-weight-normal\">{'Washmen Shop'}</Card.Subtitle>\r\n              <div className=\"pl-3 pr-3 pb-3 border-grey-1px\">\r\n                <WashmenShop order={order} />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        }\r\n        {Boolean(promocodesList.length > 0) &&\r\n          <div>\r\n            <Row>\r\n              <Col xs={12}>\r\n                <Row className='pr-3'>\r\n                  <Col>\r\n                    <Card.Subtitle className=\"mt-3 mb-1 pl-3 pr-8 pb-3 font-weight-normal card-subtitle\">\r\n                      {'Total before discount'}\r\n                    </Card.Subtitle>\r\n                  </Col>\r\n                  <Col xs={1} className=\" mt-3 d-flex justify-content-end p-0 font-weight-normal\">\r\n                    {'AED'}\r\n                  </Col>\r\n                  <Col xs={2} className=\" mt-3 d-flex justify-content-end pl-0 col-md-1 col-2 font-weight-normal\">\r\n                    {totalBeforeDiscount}\r\n                  </Col>\r\n                </Row>\r\n                <div className=\"pl-3 pr-3 pb-3 border-grey-1px\">\r\n                  {promocodesList.map((promocode, index) => {\r\n                    return <DiscountSection promocode={promocode} totalBeforeDiscount={totalBeforeDiscount} isCareemPlusApplied={isCareemPlusApplied} key={`unique${index}`} />\r\n                  })\r\n                  }\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        }\r\n\r\n        <ReceiptCalculator\r\n          totPreVat={totalPreVATString}\r\n          vat={vatString}\r\n          nextDaySurcharge={billing.nextDaySurcharge}\r\n          serviceFee={billing.serviceFee}\r\n          driverTip={billing.driverTip}\r\n          totalBilled={promocodesList.length > 0 ? undefined : totalBeforeDiscount}\r\n          minOrderRequirement={minOrderRequirement}\r\n          originApp={order.originApp}\r\n          deliveryFee={billing.deliveryFee}\r\n        />\r\n        <Row className=\"p-3\">\r\n          <Col className=\"text-cyan font-weight-bold\">Total Paid</Col>\r\n          <Col xs={1} md={1} className=\"d-flex justify-content-end text-cyan font-weight-bold p-0 pr-1\">\r\n            AED\r\n          </Col>\r\n          <Col xs={totalPaidString.length > 4 ? 'auto' : 2} md={1} className=\"d-flex justify-content-end text-cyan font-weight-bold pl-0\">\r\n            {totalPaidNumber}\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card >\r\n  );\r\n};\r\nexport default ReceiptCard;\r\n","import React, { useReducer } from 'react';\r\n// React-Bootstrap\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from 'react-bootstrap/Card';\r\n// Components\r\nimport { ContentPlaceHolder, WmAlert, OrderDetails } from 'components';\r\nimport { ReceiptCard, OrderDetailList } from '../components';\r\n// extensions\r\nimport { InfoCodeParser } from 'utils';\r\nimport { OrderService } from 'services';\r\nimport { OrderReducer, OrderState, TOrderReducer } from '../../orderReducer';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nconst initialState: OrderState = {\r\n  loading: false,\r\n  error: {\r\n    isError: false,\r\n  },\r\n};\r\n\r\nconst Home: React.FC = () => {\r\n  const [{ loading, order, error }, dispatch] = useReducer<TOrderReducer>(OrderReducer, initialState);\r\n\r\n  React.useEffect(() => {\r\n    dispatch({ type: 'FETCHING' });\r\n    const call = async () => {\r\n      try {\r\n        const { order } = await OrderService.getBillingInfo();\r\n        order.customerEmail = order.customerEmail.replace('+careem', '');\r\n        dispatch({ type: 'GET_ORDER_COMPLETE', order: order });\r\n      } catch (error) {\r\n        if (error.isAxiosError) {\r\n          const message = error.response ? error.response.data.infoCodes : error.message;\r\n          dispatch({ type: 'SET_ERROR', message: InfoCodeParser(message) });\r\n        }\r\n      } finally {\r\n        dispatch({ type: 'FETCHING_COMPLETE' });\r\n      }\r\n    };\r\n    call();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {error.isError ? (\r\n        <>\r\n          <Container bsPrefix=\"container-sm\" className=\"mt-4\">\r\n            <Row>\r\n              <Col xs={12}>\r\n                <WmAlert type=\"danger\" title={`Something wrong has happened`}>\r\n                  <FormattedMessage id={error.message} defaultMessage={error.message} />\r\n                  <br />\r\n                  <span onClick={() => window.location.reload()} style={{ textDecoration: 'underline', cursor: 'pointer' }}>\r\n                    reload\r\n                  </span>\r\n                </WmAlert>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <OrderDetails orderId={order ? order.orderAlphaId : undefined} loaderHeight=\"32px\" textFontSize=\"16px\" iconWidth=\"1.8rem\" />\r\n          {loading || !order ? (\r\n            <ContentPlaceHolder amount={4} />\r\n          ) : (\r\n            <Container className=\"mt-3\">\r\n              <Row className=\"mb-2\">\r\n                <Col xs={12}>\r\n                  <Card className=\"border-bottom-1 border-top-0 border-left-0 border-right-0\">\r\n                    <Card.Body>\r\n                      <OrderDetailList\r\n                        values={{\r\n                          [order.customerName]: undefined,\r\n                          [order.dropoffAddress.building]: undefined,\r\n                          'Email': order.customerEmail,\r\n                          'Pickup Date': order.pickupDate,\r\n                          'Dropoff Date': order.dropoffDate,\r\n                        }}\r\n                      />\r\n                    </Card.Body>\r\n                  </Card>\r\n                </Col>\r\n              </Row>\r\n              <Row>\r\n                <Col>\r\n                  <ReceiptCard order={order} />\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Switch, withRouter, RouteComponentProps, Route, Redirect } from 'react-router-dom';\r\nimport { Home } from './pages';\r\n\r\nimport './receiptPage.scss';\r\ninterface Props extends RouteComponentProps {}\r\n\r\n/**\r\n * Customer Items OverView Module\r\n */\r\nconst ReceiptPage: React.FC<Props> = ({ match: { path } }) => {\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}`} children={<Home />} />\r\n      <Redirect to={path} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default withRouter(ReceiptPage);\r\n"],"sourceRoot":""}